<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pe.gob.miraflores.mobile.dao.mapaincidencias.MapaIncidenciasRegistroMapper">
  <resultMap id="BaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="USUARIO_REGISTRO" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="USUARIO_MODIFICA" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="VISIBLE" jdbcType="VARCHAR" property="visible" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    ID_INCIDENCIA, ID_EVENTO, TIPO_EVENTO, SUB_TIPO, FEC_HORA_INICIO, FEC_HORA_FIN, DESCRIPCION, 
    SEVERIDAD, CALLE, TIPO_DIRECCION, DIRECCION_FINAL, NOMBRE_CALLE_INICIO, NOMBRE_CALLE_FIN, 
    FEC_REGISTRA, FEC_MODIFICA, DES_USU_REGISTRA, DES_USU_MODIFICA, DES_IP_REGISTRA, 
    DES_IP_MODIFICA, ID_TIPO_VIA, CUADRA_EVENTO, ID_VIA, ID_CASO_VOXIVA, TIPO_CASO_VOXIVA, 
    SUB_TIPO_CASO_VOXIVA, TIPO_INCIDENCIA, ID_VIA_CATASTRO, ID_TIPO_VIA_CATASTRO, ESTADO, 
    TIPO_CIERRE, DES_CALLLES, USUARIO_REGISTRO, USUARIO_MODIFICA, VISIBLE
  </sql>
  <select id="selectByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from GEO_INCIDENCIA_MAP
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    delete from GEO_INCIDENCIA_MAP
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    delete from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    insert into GEO_INCIDENCIA_MAP (ID_INCIDENCIA, ID_EVENTO, TIPO_EVENTO, 
      SUB_TIPO, FEC_HORA_INICIO, FEC_HORA_FIN, 
      DESCRIPCION, SEVERIDAD, CALLE, 
      TIPO_DIRECCION, DIRECCION_FINAL, NOMBRE_CALLE_INICIO, 
      NOMBRE_CALLE_FIN, FEC_REGISTRA, FEC_MODIFICA, 
      DES_USU_REGISTRA, DES_USU_MODIFICA, DES_IP_REGISTRA, 
      DES_IP_MODIFICA, ID_TIPO_VIA, CUADRA_EVENTO, 
      ID_VIA, ID_CASO_VOXIVA, TIPO_CASO_VOXIVA, 
      SUB_TIPO_CASO_VOXIVA, TIPO_INCIDENCIA, ID_VIA_CATASTRO, 
      ID_TIPO_VIA_CATASTRO, ESTADO, TIPO_CIERRE, 
      DES_CALLLES, USUARIO_REGISTRO, USUARIO_MODIFICA, 
      VISIBLE)
    values (#{idIncidencia,jdbcType=INTEGER}, #{idEvento,jdbcType=INTEGER}, #{tipoEvento,jdbcType=INTEGER}, 
      #{subTipo,jdbcType=INTEGER}, #{fecHoraInicio,jdbcType=TIMESTAMP}, #{fecHoraFin,jdbcType=TIMESTAMP}, 
      #{descripcion,jdbcType=VARCHAR}, #{severidad,jdbcType=VARCHAR}, #{calle,jdbcType=VARCHAR}, 
      #{tipoDireccion,jdbcType=INTEGER}, #{direccionFinal,jdbcType=VARCHAR}, #{nombreCalleInicio,jdbcType=VARCHAR}, 
      #{nombreCalleFin,jdbcType=VARCHAR}, #{fecRegistra,jdbcType=TIMESTAMP}, #{fecModifica,jdbcType=TIMESTAMP}, 
      #{desUsuRegistra,jdbcType=VARCHAR}, #{desUsuModifica,jdbcType=VARCHAR}, #{desIpRegistra,jdbcType=VARCHAR}, 
      #{desIpModifica,jdbcType=VARCHAR}, #{idTipoVia,jdbcType=INTEGER}, #{cuadraEvento,jdbcType=INTEGER}, 
      #{idVia,jdbcType=INTEGER}, #{idCasoVoxiva,jdbcType=INTEGER}, #{tipoCasoVoxiva,jdbcType=INTEGER}, 
      #{subTipoCasoVoxiva,jdbcType=INTEGER}, #{tipoIncidencia,jdbcType=INTEGER}, #{idViaCatastro,jdbcType=INTEGER}, 
      #{idTipoViaCatastro,jdbcType=INTEGER}, #{estado,jdbcType=VARCHAR}, #{tipoCierre,jdbcType=VARCHAR}, 
      #{desCallles,jdbcType=VARCHAR}, #{usuarioRegistro,jdbcType=INTEGER}, #{usuarioModifica,jdbcType=INTEGER}, 
      #{visible,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    insert into GEO_INCIDENCIA_MAP
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        ID_INCIDENCIA,
      </if>
      <if test="idEvento != null">
        ID_EVENTO,
      </if>
      <if test="tipoEvento != null">
        TIPO_EVENTO,
      </if>
      <if test="subTipo != null">
        SUB_TIPO,
      </if>
      <if test="fecHoraInicio != null">
        FEC_HORA_INICIO,
      </if>
      <if test="fecHoraFin != null">
        FEC_HORA_FIN,
      </if>
      <if test="descripcion != null">
        DESCRIPCION,
      </if>
      <if test="severidad != null">
        SEVERIDAD,
      </if>
      <if test="calle != null">
        CALLE,
      </if>
      <if test="tipoDireccion != null">
        TIPO_DIRECCION,
      </if>
      <if test="direccionFinal != null">
        DIRECCION_FINAL,
      </if>
      <if test="nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO,
      </if>
      <if test="nombreCalleFin != null">
        NOMBRE_CALLE_FIN,
      </if>
      <if test="fecRegistra != null">
        FEC_REGISTRA,
      </if>
      <if test="fecModifica != null">
        FEC_MODIFICA,
      </if>
      <if test="desUsuRegistra != null">
        DES_USU_REGISTRA,
      </if>
      <if test="desUsuModifica != null">
        DES_USU_MODIFICA,
      </if>
      <if test="desIpRegistra != null">
        DES_IP_REGISTRA,
      </if>
      <if test="desIpModifica != null">
        DES_IP_MODIFICA,
      </if>
      <if test="idTipoVia != null">
        ID_TIPO_VIA,
      </if>
      <if test="cuadraEvento != null">
        CUADRA_EVENTO,
      </if>
      <if test="idVia != null">
        ID_VIA,
      </if>
      <if test="idCasoVoxiva != null">
        ID_CASO_VOXIVA,
      </if>
      <if test="tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA,
      </if>
      <if test="subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA,
      </if>
      <if test="tipoIncidencia != null">
        TIPO_INCIDENCIA,
      </if>
      <if test="idViaCatastro != null">
        ID_VIA_CATASTRO,
      </if>
      <if test="idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO,
      </if>
      <if test="estado != null">
        ESTADO,
      </if>
      <if test="tipoCierre != null">
        TIPO_CIERRE,
      </if>
      <if test="desCallles != null">
        DES_CALLLES,
      </if>
      <if test="usuarioRegistro != null">
        USUARIO_REGISTRO,
      </if>
      <if test="usuarioModifica != null">
        USUARIO_MODIFICA,
      </if>
      <if test="visible != null">
        VISIBLE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        #{idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idEvento != null">
        #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        #{visible,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    select count(*) from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    <set>
      <if test="record.idIncidencia != null">
        ID_INCIDENCIA = #{record.idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idEvento != null">
        ID_EVENTO = #{record.idEvento,jdbcType=INTEGER},
      </if>
      <if test="record.tipoEvento != null">
        TIPO_EVENTO = #{record.tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="record.subTipo != null">
        SUB_TIPO = #{record.subTipo,jdbcType=INTEGER},
      </if>
      <if test="record.fecHoraInicio != null">
        FEC_HORA_INICIO = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecHoraFin != null">
        FEC_HORA_FIN = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="record.descripcion != null">
        DESCRIPCION = #{record.descripcion,jdbcType=VARCHAR},
      </if>
      <if test="record.severidad != null">
        SEVERIDAD = #{record.severidad,jdbcType=VARCHAR},
      </if>
      <if test="record.calle != null">
        CALLE = #{record.calle,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoDireccion != null">
        TIPO_DIRECCION = #{record.tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="record.direccionFinal != null">
        DIRECCION_FINAL = #{record.direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleFin != null">
        NOMBRE_CALLE_FIN = #{record.nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="record.fecRegistra != null">
        FEC_REGISTRA = #{record.fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecModifica != null">
        FEC_MODIFICA = #{record.fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="record.desUsuRegistra != null">
        DES_USU_REGISTRA = #{record.desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desUsuModifica != null">
        DES_USU_MODIFICA = #{record.desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpRegistra != null">
        DES_IP_REGISTRA = #{record.desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpModifica != null">
        DES_IP_MODIFICA = #{record.desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.idTipoVia != null">
        ID_TIPO_VIA = #{record.idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="record.cuadraEvento != null">
        CUADRA_EVENTO = #{record.cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="record.idVia != null">
        ID_VIA = #{record.idVia,jdbcType=INTEGER},
      </if>
      <if test="record.idCasoVoxiva != null">
        ID_CASO_VOXIVA = #{record.idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoIncidencia != null">
        TIPO_INCIDENCIA = #{record.tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idViaCatastro != null">
        ID_VIA_CATASTRO = #{record.idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.estado != null">
        ESTADO = #{record.estado,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoCierre != null">
        TIPO_CIERRE = #{record.tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="record.desCallles != null">
        DES_CALLLES = #{record.desCallles,jdbcType=VARCHAR},
      </if>
      <if test="record.usuarioRegistro != null">
        USUARIO_REGISTRO = #{record.usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="record.usuarioModifica != null">
        USUARIO_MODIFICA = #{record.usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="record.visible != null">
        VISIBLE = #{record.visible,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    set ID_INCIDENCIA = #{record.idIncidencia,jdbcType=INTEGER},
      ID_EVENTO = #{record.idEvento,jdbcType=INTEGER},
      TIPO_EVENTO = #{record.tipoEvento,jdbcType=INTEGER},
      SUB_TIPO = #{record.subTipo,jdbcType=INTEGER},
      FEC_HORA_INICIO = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      FEC_HORA_FIN = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      DESCRIPCION = #{record.descripcion,jdbcType=VARCHAR},
      SEVERIDAD = #{record.severidad,jdbcType=VARCHAR},
      CALLE = #{record.calle,jdbcType=VARCHAR},
      TIPO_DIRECCION = #{record.tipoDireccion,jdbcType=INTEGER},
      DIRECCION_FINAL = #{record.direccionFinal,jdbcType=VARCHAR},
      NOMBRE_CALLE_INICIO = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      NOMBRE_CALLE_FIN = #{record.nombreCalleFin,jdbcType=VARCHAR},
      FEC_REGISTRA = #{record.fecRegistra,jdbcType=TIMESTAMP},
      FEC_MODIFICA = #{record.fecModifica,jdbcType=TIMESTAMP},
      DES_USU_REGISTRA = #{record.desUsuRegistra,jdbcType=VARCHAR},
      DES_USU_MODIFICA = #{record.desUsuModifica,jdbcType=VARCHAR},
      DES_IP_REGISTRA = #{record.desIpRegistra,jdbcType=VARCHAR},
      DES_IP_MODIFICA = #{record.desIpModifica,jdbcType=VARCHAR},
      ID_TIPO_VIA = #{record.idTipoVia,jdbcType=INTEGER},
      CUADRA_EVENTO = #{record.cuadraEvento,jdbcType=INTEGER},
      ID_VIA = #{record.idVia,jdbcType=INTEGER},
      ID_CASO_VOXIVA = #{record.idCasoVoxiva,jdbcType=INTEGER},
      TIPO_CASO_VOXIVA = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      SUB_TIPO_CASO_VOXIVA = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      TIPO_INCIDENCIA = #{record.tipoIncidencia,jdbcType=INTEGER},
      ID_VIA_CATASTRO = #{record.idViaCatastro,jdbcType=INTEGER},
      ID_TIPO_VIA_CATASTRO = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      ESTADO = #{record.estado,jdbcType=VARCHAR},
      TIPO_CIERRE = #{record.tipoCierre,jdbcType=VARCHAR},
      DES_CALLLES = #{record.desCallles,jdbcType=VARCHAR},
      USUARIO_REGISTRO = #{record.usuarioRegistro,jdbcType=INTEGER},
      USUARIO_MODIFICA = #{record.usuarioModifica,jdbcType=INTEGER},
      VISIBLE = #{record.visible,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    <set>
      <if test="idEvento != null">
        ID_EVENTO = #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        TIPO_EVENTO = #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        SUB_TIPO = #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        FEC_HORA_INICIO = #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        FEC_HORA_FIN = #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        DESCRIPCION = #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        SEVERIDAD = #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        CALLE = #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        TIPO_DIRECCION = #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        DIRECCION_FINAL = #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO = #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        NOMBRE_CALLE_FIN = #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        FEC_REGISTRA = #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        FEC_MODIFICA = #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        DES_USU_REGISTRA = #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        DES_USU_MODIFICA = #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        DES_IP_REGISTRA = #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        DES_IP_MODIFICA = #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        ID_TIPO_VIA = #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        CUADRA_EVENTO = #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        ID_VIA = #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        ID_CASO_VOXIVA = #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA = #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        TIPO_INCIDENCIA = #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        ID_VIA_CATASTRO = #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO = #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        ESTADO = #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        TIPO_CIERRE = #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        DES_CALLLES = #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        USUARIO_REGISTRO = #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        USUARIO_MODIFICA = #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        VISIBLE = #{visible,jdbcType=VARCHAR},
      </if>
    </set>
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 02 09:15:17 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    set ID_EVENTO = #{idEvento,jdbcType=INTEGER},
      TIPO_EVENTO = #{tipoEvento,jdbcType=INTEGER},
      SUB_TIPO = #{subTipo,jdbcType=INTEGER},
      FEC_HORA_INICIO = #{fecHoraInicio,jdbcType=TIMESTAMP},
      FEC_HORA_FIN = #{fecHoraFin,jdbcType=TIMESTAMP},
      DESCRIPCION = #{descripcion,jdbcType=VARCHAR},
      SEVERIDAD = #{severidad,jdbcType=VARCHAR},
      CALLE = #{calle,jdbcType=VARCHAR},
      TIPO_DIRECCION = #{tipoDireccion,jdbcType=INTEGER},
      DIRECCION_FINAL = #{direccionFinal,jdbcType=VARCHAR},
      NOMBRE_CALLE_INICIO = #{nombreCalleInicio,jdbcType=VARCHAR},
      NOMBRE_CALLE_FIN = #{nombreCalleFin,jdbcType=VARCHAR},
      FEC_REGISTRA = #{fecRegistra,jdbcType=TIMESTAMP},
      FEC_MODIFICA = #{fecModifica,jdbcType=TIMESTAMP},
      DES_USU_REGISTRA = #{desUsuRegistra,jdbcType=VARCHAR},
      DES_USU_MODIFICA = #{desUsuModifica,jdbcType=VARCHAR},
      DES_IP_REGISTRA = #{desIpRegistra,jdbcType=VARCHAR},
      DES_IP_MODIFICA = #{desIpModifica,jdbcType=VARCHAR},
      ID_TIPO_VIA = #{idTipoVia,jdbcType=INTEGER},
      CUADRA_EVENTO = #{cuadraEvento,jdbcType=INTEGER},
      ID_VIA = #{idVia,jdbcType=INTEGER},
      ID_CASO_VOXIVA = #{idCasoVoxiva,jdbcType=INTEGER},
      TIPO_CASO_VOXIVA = #{tipoCasoVoxiva,jdbcType=INTEGER},
      SUB_TIPO_CASO_VOXIVA = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      TIPO_INCIDENCIA = #{tipoIncidencia,jdbcType=INTEGER},
      ID_VIA_CATASTRO = #{idViaCatastro,jdbcType=INTEGER},
      ID_TIPO_VIA_CATASTRO = #{idTipoViaCatastro,jdbcType=INTEGER},
      ESTADO = #{estado,jdbcType=VARCHAR},
      TIPO_CIERRE = #{tipoCierre,jdbcType=VARCHAR},
      DES_CALLLES = #{desCallles,jdbcType=VARCHAR},
      USUARIO_REGISTRO = #{usuarioRegistro,jdbcType=INTEGER},
      USUARIO_MODIFICA = #{usuarioModifica,jdbcType=INTEGER},
      VISIBLE = #{visible,jdbcType=VARCHAR}
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </update>
  
  
    <resultMap id="BaseResultMap_Paginado" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="NOMBRE_TIPO_EVENTO" jdbcType="VARCHAR" property="nombreTipoEvento" />
    <result column="DES_TIPO_INCIDENCIA" jdbcType="VARCHAR" property="desTipoIncidencia" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
  </resultMap>
  
  	<select id="listarIncidenciasConPaginacion" parameterType="HashMap" resultMap="BaseResultMap_Paginado">
	
	  SELECT * FROM (
	  
					SELECT  
						A.ID_INCIDENCIA, 
						A.ID_EVENTO, 
						A.TIPO_EVENTO, 
						A.SUB_TIPO, 
						A.FEC_HORA_INICIO, 
						A.FEC_HORA_FIN, 
						A.DESCRIPCION, 
					    A.SEVERIDAD, 
					    A.CALLE, 
					    A.TIPO_DIRECCION, 
					    A.DIRECCION_FINAL, 
					    A.NOMBRE_CALLE_INICIO, 
					    A.NOMBRE_CALLE_FIN, 
				    	A.FEC_REGISTRA, 
				    	A.FEC_MODIFICA, 
				    	A.ESTADO, 
				    	A.DES_USU_REGISTRA, 
				    	A.DES_USU_MODIFICA, 
				    	A.DES_IP_REGISTRA, 
				    	A.DES_IP_MODIFICA, 
				    	A.ID_TIPO_VIA, 
				    	A.CUADRA_EVENTO, 
				    	A.ID_VIA, 
				    	A.ID_CASO_VOXIVA, 
				    	A.TIPO_CASO_VOXIVA, 
				    	A.SUB_TIPO_CASO_VOXIVA, 
				    	A.TIPO_INCIDENCIA, 
				    	A.ID_VIA_CATASTRO, 
				    	A.ID_TIPO_VIA_CATASTRO,
				    	A.TIPO_CIERRE,
				    	A.DES_CALLLES,
				    	B.DES_NOMBRE AS NOMBRE_TIPO_EVENTO,
				    	C.DES_NOMBRE AS DES_TIPO_INCIDENCIA
					     ,ROWNUMBER()  OVER   (ORDER BY A.FEC_REGISTRA DESC)  AS ROW_NEXT
				    FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO
				    WHERE
				         ESTADO='A'
				         
				        <if test="TIPO_INCIDENCIA != null">
					       AND A.TIPO_INCIDENCIA = #{TIPO_INCIDENCIA}
					    </if> 
				         
				        <if test="NOMBRE_TIPO_EVENTO != null">
					        AND UPPER(B.DES_NOMBRE) LIKE UPPER('%${NOMBRE_TIPO_EVENTO}%')
					    </if> 
					    
					    <if test="DES_CALLLES != null">
					        AND UPPER(A.DES_CALLLES) LIKE UPPER('%${DES_CALLLES}%')
					    </if> 
					    
					    <if test="DESCRIPCION != null">
					        AND UPPER(A.DESCRIPCION) LIKE UPPER('%${DESCRIPCION}%')
					    </if> 
				        
				        <if test="FECHA_INI != null">
				         	AND CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]>  '${FECHA_INI}'	
						</if> 
						
						<if test="FECHA_FIN != null">
				         	AND CAST(A.FEC_HORA_FIN AS DATE) <![CDATA[ <= ]]> '${FECHA_FIN}'	
						</if> 
	
						
		)AS TEMP WHERE  ROW_NEXT BETWEEN #{START} and #{LIMIT}  
  
	</select>
	
	<select id="countListarIncidenciasConPaginacion" parameterType="HashMap" resultType="java.lang.Integer">

    	SELECT 
    			COUNT(*)
		 FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO
				    WHERE
				         ESTADO='A'
				         
				        <if test="TIPO_INCIDENCIA != null">
					       AND A.TIPO_INCIDENCIA = #{TIPO_INCIDENCIA}
					    </if> 
				         
				        <if test="NOMBRE_TIPO_EVENTO != null">
					        AND UPPER(B.DES_NOMBRE) LIKE UPPER('%${NOMBRE_TIPO_EVENTO}%')
					    </if> 
					    
					    <if test="DES_CALLLES != null">
					        AND UPPER(A.DES_CALLLES) LIKE UPPER('%${DES_CALLLES}%')
					    </if> 
					    
					    <if test="DESCRIPCION != null">
					        AND UPPER(A.DESCRIPCION) LIKE UPPER('%${DESCRIPCION}%')
					    </if> 
				        
				        <if test="FECHA_INI != null">
				         	AND CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]>  '${FECHA_INI}'	
						</if> 
						
						<if test="FECHA_FIN != null">
				         	AND CAST(A.FEC_HORA_FIN AS DATE) <![CDATA[ <= ]]> '${FECHA_FIN}'	
						</if> 

		
	</select>
  
    <select id="cierreCallesPorVencer" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select A.* from GEO_INCIDENCIA_MAP A
	 where CAST('${FECHA_FIN}' AS DATE) BETWEEN CAST(A.FEC_HORA_INICIO AS DATE) AND CAST(A.FEC_HORA_FIN AS DATE)
	
  </select>
  
   <select id="cierreCallesPorIniciar" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select A.* from GEO_INCIDENCIA_MAP A
	 where CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]> '${FECHA_INI}'
	
  </select>
  
  
</mapper>